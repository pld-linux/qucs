diff -Nur qucs-0.0.14.ori/qucs-core/src/check_touchstone.cpp qucs-0.0.14/qucs-core/src/check_touchstone.cpp
--- qucs-0.0.14.ori/qucs-core/src/check_touchstone.cpp	2008-01-10 20:00:00.000000000 +0000
+++ qucs-0.0.14/qucs-core/src/check_touchstone.cpp	2008-06-29 18:42:47.365258650 +0000
@@ -101,7 +101,7 @@
     even = 1;
   }
   /* first line determines the number of expected ports */
-  touchstone_options.ports = (int) sqrt ((size - 1) / 2);
+  touchstone_options.ports = (int) sqrt ((size - 1.0) / 2.0);
 
   /* check first frequency value */
   if (f < 0.0) {
